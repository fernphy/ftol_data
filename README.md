# ftol_data

[![DOI](https://zenodo.org/badge/477608269.svg)](https://zenodo.org/badge/latestdoi/477608269)

Home of [Fern Tree of Life (FTOL)](https://fernphy.github.io) phylogeny and associated data files.

The data in this repo are automatically generated by the `ftol` repo (https://github.com/fernphy/ftol).

These files should not be edited by hand. Rather, the [`snapshot_ftol_data.R`](https://github.com/fernphy/ftol/blob/main/R/snapshot_ftol_data.R) script should be run to commit changes and automatically push to the [remote repository](https://github.com/fernphy/ftol_data).

For more information, please see the accompanying paper:
- Nitta JH, Schuettpelz E, Ramírez-Barahona S, Iwasaki W. An open and continuously updated fern tree of life (FTOL) https://doi.org/10.1101/2022.03.31.486640 

## Data format

For information about data files, see [ftol_data_README.txt](ftol_data_README.txt).

## Commit messages

The commit messages in this repo have a special format. They have three parts: `code`, `data_`, and `docker`. Each is followed by an equals sign and a string.

- For `code`, the string is a commit hash in the [ftol](https://github.com/fernphy/ftol) repo.
- For `data_`, the string is the hash digest for an input file.
- The `docker`, the string is the docker image used to run the code. 

Together, these specify the version of code, input data, and computing environment used to generate a given data file.

For example, files with the commit

```
code=b43256a6faa2521bdb00da9b262d9b2e2ac26eac
data_ref_aln=hash://sha256/388b53201a8626d4b41851e716505e7904d24ee3730de25310cb82cd3a1e6e71
data_restez_sql_db=hash://sha256/8059a845c6570eeffb6fe08c29e178a9dc223ab6f929a1b6c6b374e160f21410
docker=joelnitta/ftol:1.1.0
```

were generated by [this code](https://github.com/fernphy/ftol/tree/b43256a6faa2521bdb00da9b262d9b2e2ac26eac) in [the `ftol` docker containter with the tag 1.1.0](https://hub.docker.com/r/joelnitta/ftol/tags).

URLs for the data files can be obtained by providing the hash digest to the `sources()` function of the `contentid` R package:

```
> contentid::sources("hash://sha256/8059a845c6570eeffb6fe08c29e178a9dc223ab6f929a1b6c6b374e160f21410")

                                           source                date                                                                                                                                                                      
1 https://figshare.com/ndownloader/files/36005606 2022-06-23 07:35:04
```

Note that `code` commit hashes correspond to the **earliest** (oldest) commit in [ftol](https://github.com/fernphy/ftol) that generates the file with that commit; more recent commits that don't result in a change to the file will not show up as a new commit here.

## ftolr R package

These data are also available via the [ftolr](https://github.com/fernphy/ftolr) R package, which allows direct loading into R and more options for subsetting and formatting.

## Citing

If you use this dataset, please cite it! Here is a recommended citation:

    FTOL working group. (2022). Fern Tree of Life (FTOL) data v1.0.0. https://doi.org/10.5281/zenodo.6413219

Please also cite the paper describing how the data were generated:

    Nitta JH, Schuettpelz E, Ramírez-Barahona S, Iwasaki W. An open and continuously updated fern tree of life (FTOL) https://doi.org/10.1101/2022.03.31.486640 

## License

- [CC0](LICENSE)
